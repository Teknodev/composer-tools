@use "../../../composer-base-components/base/utitilities/viewports.module.scss" as *;

.container {
  background: var(--composer-html-background);

  .max-content {
    .section-title {
      margin-top: 0;
      margin-bottom: var(--composer-gap-md);
    }

    .row1 {
      display: flex;
      align-items: center;
      width: 100%;

      .image-wrapper {
        position: relative;
        width: 33.3%;
        height: 100%;
        min-height: 300px;

        .left-image {
          position: absolute;
          bottom: 0;
          left: 0;
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        &.row1-image-only {
          width: 100%;
        }
      }

      .title {
        display: flex;
        margin: 0;
        margin-left: var(--composer-gap-md);
        max-width: 40%;
        color: var(--composer-font-color-primary);
        min-height: 300px;
        align-items: center;

        &.row1-title-only {
          width: 100%;
          align-items: center;
          max-width: 100%;
          padding-left: var(--composer-gap-lg);
          word-wrap: break-word;
        }
      }
    }

    .row1:hover .title,
    .row1:hover .left-image+.title {
      color: var(--composer-primary-color);
    }

    .row2 {
      display: flex;
      width: 100%;
      height: 100%;
      flex-wrap: nowrap;

      .first,
      .second,
      .third {
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        color: var(--composer-font-color-primary);
        box-sizing: border-box;
      }

      .first,
      .second,
      .third {
        align-items: stretch;
        display: flex;
        flex: 1;
        min-height: 400px;
      }

      .first {
        .first-items-wrapper {
          display: flex;
          width: 100%;
          flex-direction: column;
          padding: var(--composer-gap-lg);
          gap: var(--composer-gap-sm);

          .description {
            margin: 0;  
          }

          .button-text-container {
            .button-text {
              content: "";
            }
          }
        }
      }

      .first .first-items-wrapper .button-text-container .button-text:hover {
        color: var(--composer-primary-color);
        border-color: var(--composer-primary-color);
      }

      .second {
        display: flex;
        width: 100%;
        align-items: center;
        justify-content: center;
        background: color-mix(in srgb, var(--composer-html-background), var(--composer-font-color-primary) 5%);

        &:hover {
          .text {
            color: var(--composer-primary-color);
          }
        }
      }

      .second .text {
        height: fit-content;
        color: var(--composer-font-color-primary);
        width: 100%;
        box-sizing: border-box;
        padding: 0 var(--composer-gap-lg);
      }

      .third .image {
        height: 100%;
        object-fit: cover;
        width: 100%;
        aspect-ratio: 1/1;
        position: absolute;
        top: 0;
        left: 0;
      }

      .third {
        >div {
          height: 100%;
        }
      }

    }

    .row3 {
      display: flex;
      width: 100%;
      background: color-mix(in srgb, var(--composer-html-background), var(--composer-font-color-primary) 5%);
      color: var(--composer-font-color-primary);

      .image.row3-images-less {
        height: 350px;
        display: flex;
      }

      .image_and_subtitle_1 {
        width: 100%;
        display: flex;
        flex-direction: column;
        object-fit: cover;
        height: 100%;

        .image {
          width: 100%;
          object-fit: cover;
          aspect-ratio: 7 / 4.2;
        }

        .subtitle {
          align-items: center;
          justify-content: center;


          padding: 0 var(--composer-gap-md);
          display: flex;
          height: 100%;
        }
      }

      .image_and_subtitle_1:hover .subtitle,
      .image_and_subtitle_1:hover .image+.subtitle {
        color: var(--composer-primary-color);
      }

      .image_and_subtitle_2 {
        width: 100%;
        display: flex;
        flex-direction: column;
        object-fit: cover;
        height: 100%;

        .image {
          width: 100%;
          aspect-ratio: 7 / 4.2;
          object-fit: cover;
        }

        .subtitle {
          align-items: center;
          justify-content: center;


          padding: 0 var(--composer-gap-md);
          display: flex;
          height: 100%;
        }
      }

      .image_and_subtitle_2:hover .subtitle,
      .image_and_subtitle_2:hover .image+.subtitle {
        color: var(--composer-primary-color);
      }

      .image_and_subtitle_3 {
        width: 100%;
        display: flex;
        flex-direction: column;
        object-fit: cover;
        height: 100%;

        .image {
          width: 100%;
          object-fit: cover;
          aspect-ratio: 7 / 4.2;
        }

        .subtitle {
          align-items: center;
          justify-content: center;


          padding: 0 var(--composer-gap-md);
          display: flex;
          height: 100%;
        }
      }

      .image_and_subtitle_3:hover .subtitle,
      .image_and_subtitle_3:hover .image+.subtitle {
        color: var(--composer-primary-color);
      }

    }

    .row3-no-image {
      padding-top: var(--composer-gap-md);
    }
  }
}

@container (max-width: #{$composer-tablet-width}) {
  .container {
    .max-content {
      .row1 {
        flex-direction: row;

        .image-wrapper {
          min-height: 200px;
        }

        .title {
          min-height: 200px;
        }

        .row1-image-only {
          width: 100%;
          min-height: 170px;
        }

        .row1-title-only {
          width: 100%;
          min-height: 170px;
        }
      }

      .row2 {

        .first,
        .second,
        .third {
          align-items: stretch;
          display: flex;
          flex: 1;
          min-height: 300px;
        }

        .second .text {

        }

        .first {
          .first-items-wrapper {
            padding: 0;
          }
        }
      }

      .row3 {
        flex-direction: row;

        .image.row3-images-less {
          height: 150px;
          display: flex;
        }

        .image_and_subtitle_1 {
          width: 100%;

          .image {
            width: 100%;
            aspect-ratio: 16/9.6;
          }

          .subtitle {
            height: auto;
            align-items: center;
            justify-content: center;
            padding: var(--composer-gap-sm);
            margin: 0;

            width: 100%;
          }
        }

        .image_and_subtitle_2 {
          width: 100%;

          .image {
            width: 100%;
            aspect-ratio: 7 / 4.2;
          }

          .subtitle {
            height: auto;
            align-items: center;
            justify-content: center;
            padding: var(--composer-gap-sm);
            margin: 0;

            width: 100%;
          }
        }

        .image_and_subtitle_3 {
          width: 100%;

          .image {
            width: 100%;
            aspect-ratio: 7 / 4.2;
          }

          .subtitle {
            height: auto;
            align-items: center;
            justify-content: center;
            padding: var(--composer-gap-sm);
            margin: 0;

            width: 100%;
          }
        }
      }
    }
  }
}

@container (max-width: #{$composer-phone-width}) {
  .container {
    .max-content {
      .row1 {
        flex-direction: column;

        .image-wrapper {
          width: 100%;
          min-height: 160px;
        }

        .title {

          width: 100%;
          min-height: auto;
          margin-left: 0;
          max-width: none;
          margin-top: var(--composer-gap-lg);

          >div {
            width: 100%;
          }
        }

        .title.row1-title-only {
          width: 100%;
          min-height: 160px;
          padding: 0;
        }

        .row1-image-only {
          width: 100%;
          min-height: 160px;
        }
      }

      .row2 {
        flex-direction: column;

        .first {
          min-height: auto;
          margin: var(--composer-gap-lg) 0;

          .first-items-wrapper {
            gap: var(--composer-gap-sm);

            .button-text {

              border-bottom: 2px solid var(--composer-font-color-primary);
              padding: var(--composer-gap-xs) 0;
              margin-bottom: var(--composer-gap-md);
            }
          }
        }

        .second .text {
          flex-direction: row;
          display: flex;
          width: 100%;
          align-items: center;
          justify-content: center;

          min-height: 140px;
        }

        .second {
          display: flex;
          flex-direction: row;
          min-height: 140px;
          width: 100%;
        }

        .third {
          display: flex;
          min-height: 140px;
          width: 100%;
        }

        .third .image {
          display: flex;
          flex-direction: row;
          min-height: 140px;
          width: 100%;
        }
      }

      .row3 {
        flex-direction: column;
        gap: 0;

        .image_and_subtitle_1 {
          flex-direction: row;
          display: flex;
          width: 100%;
          height: 100%;

          .image {
            width: 50%;
            height: 150px;

            &.row3-images-less {
              height: 120px;
              display: flex;
            }

            &.row3-no-subtitle {
              width: 100%;
              height: 120px;
            }
          }

          .subtitle {
            align-items: center;
            justify-content: center;

            width: 100%;
            max-width: 100%;
            height: auto;
            padding: var(--composer-gap-sm);
          }
        }

        .image_and_subtitle_2 {
          flex-direction: row;
          display: flex;
          width: 100%;

          .image {
            width: 50%;
            height: 150px;
          }

          .subtitle {
            align-items: center;
            justify-content: center;

            width: 100%;
            max-width: 100%;
            height: auto;
            gap: var(--composer-gap-sm);
          }
        }

        .image_and_subtitle_3 {
          flex-direction: row;
          display: flex;
          width: 100%;

          .image {
            width: 50%;
            height: 150px;
          }

          .subtitle {
            align-items: center;
            justify-content: center;
            width: 100%;
            max-width: 100%;
            height: auto;
            padding: var(--composer-gap-sm);
          }
        }
      }
    }
  }
}