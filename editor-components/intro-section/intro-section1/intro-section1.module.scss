@use "../../../composer-base-components/base/utitilities/viewports.module.scss" as *;

.container {
  .max-content {
    .wrapper {
      &.alignment-center {
        .content {
          .title { text-align: left; }
          .descriptions { align-items: flex-start; }
          .description-item { justify-content: flex-start; }
          .buttons { justify-content: flex-start; }
        }
      }
      &.alignment-left {
        .content {
          .title { text-align: left; }
          .buttons { justify-content: flex-start; }
        }
      }
      display: flex;
      align-items: stretch;
      justify-content: space-between;
      gap: var(--composer-gap-xl);
      padding: var(--composer-gap-xl) 0;
      width: 100%;

      .content {
        flex: 1 1 50%;
        min-width: 0;
        max-width: 50%;
        display: flex;
        flex-direction: column;
        gap: var(--composer-gap-md);
        .title { content: ""; margin: 0; width: 100%; word-break: break-word; overflow-wrap: anywhere; }

        .description {
          content: "";
          margin: 0;
        }

        .descriptions { display: flex; flex-direction: column; gap: var(--composer-gap-md); align-items: flex-start; margin: 0; width: 100%; }

        .description-item { display: flex; align-items: flex-start; gap: var(--composer-gap-sm); width: 100%; }

        .item-icon { display: flex; align-items: center; justify-content: center; }

        .item-icon-media { font-size:1.5rem; display: inline-flex; align-items: center; justify-content: center; color: var(--composer-primary-color); }

        .item-text-col { display: flex; gap: var(--composer-gap-xs); width: 100%; align-items: baseline; flex-wrap: nowrap; }

        .item-title {
          content: "";
          color: var(--composer-font-color-primary);
          width: max-content; text-align: left;
        }

        .item-desc { content: ""; color: var(--composer-tertiary-color); width: max-content; text-align: left; }

        .buttons {
          display: flex;
          gap: var(--composer-gap-md);

          .button-item {
            .button {
              padding: var(--composer-gap-sm) var(--composer-gap-md);
              display: flex;
              align-items: center;
              gap: var(--composer-gap-xs);
              justify-content: flex-start;

              .button-text { content: ""; margin: 0; text-align: left; }

              .btn-icon { width: var(--composer-gap-md); height: var(--composer-gap-md); }
            }
          }
        }
      }

      &.left-container-alone {
        .content { flex: 0 0 100%; max-width: 100%; }
      }

      .left-container {
        gap: var(--composer-gap-md); 
             .title { width: 100%; }
      }

      .visual {
        flex: 1 1 50%;
        min-width: 0;
        max-width: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        max-width: 100%;
        overflow: hidden;

        .visual-image, .thumb-image, .player {
          width: 100%;
          height: 100%;
          display: block;
          object-fit: cover;
        }

        .square-wrapper {
          position: relative;
          width: 100%;
          max-width: 100%;
          aspect-ratio: 16 / 9;
          overflow: hidden;
        }
        &.right-container-alone {
          flex: 0 0 100%;
          max-width: 100%;
          justify-content: center;
          margin-left: auto;
          margin-right: auto;
          .square-wrapper { max-width: 100%; width: 100%; }
        }

        .media-thumb {
          position: relative;
          cursor: pointer;

          .thumb-overlay {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: var(--composer-overlay-color);
            opacity: 0.15;
            transition: opacity var(--composer-transition-duration-normal) ease;
            pointer-events: none;
          }

          .play-icon {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: calc(var(--composer-gap-xl) * 1.2);
            height: calc(var(--composer-gap-xl) * 1.2);
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(var(--composer-html-background-rgb), 0.6);
            border-radius: 9999px;
            animation: pulse-animation 2s ease-in-out infinite;
          }

          &:hover {
            .thumb-overlay { opacity: 0.25; }
          }
        }
      }
    }
  }
}

@keyframes pulse-animation {
  0% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 0 0 0 rgba(var(--composer-font-color-secondary-rgb), 0.0); }
  50% { transform: translate(-50%, -50%) scale(1.04); box-shadow: 0 0 0 var(--composer-gap-xxs) rgba(var(--composer-font-color-secondary-rgb), 0.08); }
  100% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 0 0 0 rgba(var(--composer-font-color-secondary-rgb), 0.0); }
}

@container (max-width: #{$composer-tablet-width}) {
  .container {
    .max-content {
      .wrapper {
        flex-direction: column;
        align-items: stretch;

        .content { flex: 0 0 100%; max-width: 100%; }
        .visual { flex: 0 0 100%; }
      }
    }
  }
}

@container (max-width: #{$composer-phone-width}) {
  .container {
    .max-content {
      .wrapper {
        gap: var(--composer-gap-lg);
        align-items: stretch;
        &.alignment-center {
          .content {
            .title { text-align: left; }
            .descriptions { align-items: flex-start; }
            .description-item { justify-content: flex-start; }
            .buttons { justify-content: flex-start; }
          }
        }
        &.alignment-left {
          .content {
            .title { text-align: left; }
            .buttons { justify-content: flex-start; }
          }
        }
        .content { max-width: 100%; }
        .visual {
          flex: 0 0 100%;
          .square-wrapper { max-width: 100%; aspect-ratio: 16 / 9; }
          .visual-image, .thumb-image, .player { width: 100%; height: auto; }
        }
        .descriptions { gap: var(--composer-gap-md); }
        .description-item { align-items: flex-start; }
        .item-text-col { flex-direction: column; align-items: flex-start; gap: var(--composer-gap-xxs); flex-wrap: nowrap; }
        .item-title { white-space: normal; }
        .item-desc { white-space: normal; width: 100%; }
        .buttons { justify-content: flex-start; flex-wrap: wrap; gap: var(--composer-gap-sm); }
        .buttons .button-item { flex: none; }
        .buttons .button { width: auto; justify-content: flex-start; }
      }
    }
  }
}
