@use "../../../composer-base-components/base/utitilities/viewports.module.scss" as *;

.container {
  .max-content {
    .intro-wrapper {
      &.alignment-center {
        .text-content {
          .section-title { text-align: left; }
          .features-list { align-items: flex-start; }
          .feature-item { justify-content: flex-start; }
          .action-buttons { justify-content: flex-start; }
        }
      }
      &.alignment-left {
        .text-content {
          .section-title { text-align: left; }
          .action-buttons { justify-content: flex-start; }
        }
      }
      display: flex;
      align-items: stretch;
      justify-content: space-between;
      gap: var(--composer-gap-xl);
      padding: var(--composer-gap-xl) 0;
      width: 100%;

      .text-content {
        flex: 1 1 50%;
        min-width: 0;
        display: flex;
        flex-direction: column;
        gap: var(--composer-gap-lg);
        .section-title { content: ""; margin: 0; width: 100%; word-break: break-word; overflow-wrap: anywhere; }

        .features-list { display: flex; flex-direction: column; gap: var(--composer-gap-sm); align-items: flex-start; margin: 0; width: 100%; }

        .feature-item { display: flex; align-items: flex-start; gap: var(--composer-gap-sm); width: 100%; }

        .feature-icon-wrapper { display: flex; align-items: center; justify-content: center; }

        .feature-icon { font-size:1.5rem; display: inline-flex; align-items: center; justify-content: center; color: var(--composer-primary-color); }

        .feature-text { display: flex; gap: var(--composer-gap-xs); }

        .feature-title {
          content: "";
          color: var(--composer-font-color-primary);
          width: max-content; text-align: left;
        }

        .feature-description { content: ""; color: var(--composer-tertiary-color); width: max-content; text-align: left; }

        .action-buttons {
          display: flex;
          gap: var(--composer-gap-md);

          .button-wrapper {
            .button {
              padding: var(--composer-gap-sm) var(--composer-gap-md);
              display: flex;
              align-items: center;
              gap: var(--composer-gap-xs);
              justify-content: flex-start;

              .button-text { content: ""; margin: 0; text-align: left; }

              .button-icon { width: var(--composer-gap-md); height: var(--composer-gap-md); }
            }
          }
        }
      }

      &.left-container-alone {
        .text-content { flex: 0 0 100%; max-width: 100%; }
      }

      .media-container {
        flex: 1 1 50%;
        min-width: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        max-width: 100%;
        overflow: hidden;

        .media-image, .thumbnail-image, .video-element {
          width: 100%;
          height: 100%;
          display: block;
          object-fit: cover;
        }

        .video-wrapper, .media-wrapper {
          position: relative;
          width: 100%;
          max-width: 100%;
          aspect-ratio: 16 / 9;
          overflow: hidden;
        }
        &.right-container-alone {
          flex: 0 0 100%;
          max-width: 100%;
          justify-content: center;
          margin-left: auto;
          margin-right: auto;
          .video-wrapper, .media-wrapper { max-width: 100%; width: 100%; }
        }

        .video-thumbnail {
          position: relative;
          cursor: pointer;

          .thumbnail-overlay {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: var(--composer-overlay-color);
            opacity: 0.15;
            transition: opacity var(--composer-transition-duration-normal) ease;
            pointer-events: none;
          }

          .play-button {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: calc(var(--composer-gap-xl) * 1.2);
            height: calc(var(--composer-gap-xl) * 1.2);
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--composer-primary-color);
            border-radius: 9999px;
            animation: pulse-animation 2s ease-in-out infinite;
            .play-icon {
              color: var(--composer-font-color-secondary);
            }
          }

          &:hover {
            .thumbnail-overlay { opacity: 0.25; }
          }
        }

        .video-player {
          width: 100%;
          height: 100%;
        }
      }
    }
  }
}

@keyframes pulse-animation {
  0% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 0 0 0 rgba(var(--composer-font-color-secondary-rgb), 0.0); }
  50% { transform: translate(-50%, -50%) scale(1.04); box-shadow: 0 0 0 var(--composer-gap-xxs) rgba(var(--composer-font-color-secondary-rgb), 0.08); }
  100% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 0 0 0 rgba(var(--composer-font-color-secondary-rgb), 0.0); }
}

@container (max-width: #{$composer-tablet-width}) {
  .container {
    .max-content {
      .intro-wrapper {
        flex-direction: column;
        align-items: stretch;

        &.alignment-center {
          .text-content {
            .section-title { text-align: left; }
            .features-list { align-items: flex-start; }
            .feature-item { justify-content: flex-start; }
            .action-buttons { justify-content: flex-start; }
          }
        }

        .text-content { flex: 0 0 100%; max-width: 100%; }
        .media-container { flex: 0 0 100%; }
      }
    }
  }
}

@container (max-width: #{$composer-phone-width}) {
  .container {
    .max-content {
      .intro-wrapper {
        gap: var(--composer-gap-lg);
        align-items: stretch;
        .text-content {
          align-items: flex-start;
          text-align: left;
          .section-title { text-align: left; }
          .features-list { 
            align-items: flex-start; 
            width: 100%;
          }
          .feature-item { 
            flex-direction: row;
            align-items: flex-start;
            justify-content: flex-start;
            width: 100%;
            margin: 0;
          }
          .feature-icon-wrapper { 
            justify-content: flex-start;
            align-items: flex-start;
            flex-shrink: 0;
          }
          .feature-icon {
            margin: 0;
          }
          .feature-text { 
            flex-direction: column; 
            align-items: flex-start;
            flex: 1;
            min-width: 0;
          }
          .feature-title { 
            text-align: left; 
            width: 100%;
            margin: 0;
          }
          .feature-description { 
            text-align: left; 
            width: 100%;
            margin: 0;
          }
          .action-buttons { justify-content: flex-start; }
          .button { justify-content: flex-start; }
          .button-text { text-align: left; }
        }
        .media-container {
          flex: 0 0 100%;
          .video-wrapper, .media-wrapper { max-width: 100%; aspect-ratio: 16 / 9; }
          .media-image, .thumbnail-image, .video-element { width: 100%; height: auto; }
        }
      }
    }
  }
}
