@use "../../../composer-base-components/base/utitilities/viewports.module.scss" as *;

%text-animation {
  z-index: 2;
  opacity: 0;
  transform: translateY(100px);
  transition-property: opacity, transform;
  transition-duration: 0.5s;
  transition-timing-function: cubic-bezier(0, 0.87, 0.58, 1);
}

.container {
  display: flex;
  align-items: center;
  padding: 0 !important;
  background-color: transparent;
  position: relative;
  min-height: 100px;
  &.no-image{
    background-color: var(--composer-html-background);
  }
  .max-content {
    justify-content: center;
    display: flex;
    position: relative;
    z-index: 2;
    gap: var(--composer-gap-md);
    max-width: 100%;
    .wrapper {
      width: 100%;
      height: 100%;

      .carousel {
        width: 100%;

          :global(.slick-list) {
            height: 100vh;
          }

          :global(.slick-track) {
            height: 100%;
          }

          :global(.slick-slide) {
            height: 100vh;
          }

        .item {
          width: 100%;
          height: 100vh;
          position: relative;
          .main-content {
            margin: auto;
            display: flex;
            height: 100%;
            z-index: 1;

            .left {
              z-index: 1;
              flex: 1;
              padding: var(--composer-gap-md);

              .content {
                height: 100%;
                display: flex;
                flex-direction: column;
                text-align: center;
                align-items: center;
                justify-content: center;

                .flower {
                  @extend %text-animation;
                  transition-delay: 0.1s;

                  .logo {
                    max-width: 200px;
                    aspect-ratio: 3 /1;
                    font-size: 2rem;
                    color: #93646a;
                    object-fit: contain;

                    &.no-image {
                      color: var(--composer-font-color-primary);
                    }
                  }
                }
                .flower.active {
                  opacity: 1;
                  transform: translateY(0px);
                }

                .title {
                  @extend %text-animation;
                  font-size: 4rem;
                  width: 60%;
                  transition-delay: 0.2s;
                  text-align: center;
                  color: #93646a;

                  &.title-no-image {
                    color: var(--composer-font-color-primary);
                  }

                  &.active {
                    opacity: 1;
                    transform: translateY(0px);
                  }

                  &.no-image {
                    padding: 0;
                  }
                }

                .subtitle {
                  @extend %text-animation;
                  font-size: 2rem;
                  width: 60%;
                  transition-delay: 0.25s;
                  text-align: center;
                  width: fit-content;
                  transform: translate(0);

                  &::before {
                    display: none !important;
                  }


                  &.subtitle-has-bg {
                    background: transparent;
                    padding: 0;
                    color: #93646a;
                  }

                  &.active {
                    opacity: 1;
                    transform: translateY(0px);
                  }

                  &.no-image {
                    width: fit-content;
                    text-align: center
                  }
                }

                .description {
                  @extend %text-animation;
                  font-size: 2rem;
                  color: #93646a;
                  width: 60%;
                  transition-delay: 0.3s;

                  &.description-no-image {
                    color: var(--composer-font-color-primary);
                  }

                  &.active {
                    opacity: 1;
                    transform: translateY(0px);
                  }

                  &.no-image {
                    padding: 0;
                  }
                }

                .buttons {
                  z-index: 2;
                  display: flex;
                  gap: var(--composer-gap-md);
                  opacity: 0;
                  transform: translateY(var(--composer-gap-md));
                  transition-property: opacity, transform;
                  transition-duration: 0.5s;
                  transition-timing-function: ease;
                  transition-delay: 0.4s;
                  .button-wrapper {
                    .button {
                      .button-text {
                        content: "";
                      }
                    }
                  }
                }
                .buttons.active {
                  opacity: 1;
                  transform: translateY(0px);
                }
              }
            }

            .right {
              position: relative;
              display: flex;
              flex: 1 1;
              z-index: 2;
              width: 100%;
              height: 100%;
              justify-content: center;

              .image-wrapper {
                position: relative;
                height: 100%;
                width: 100%;
                display: flex;
                align-items: end;
                justify-content: start;

                .image {
                  position: absolute;
                  bottom: 0;
                  left: 0;
                  object-fit: cover;
                  max-width: 100%;
                  opacity: 0;
                  transform: translateX(100px);
                  transition-property: opacity, transform;
                  transition-duration: 1s;
                  transition-delay: 0.3s;
                  transition-timing-function: ease;

                  &.active {
                    opacity: 1;
                    transform: translateX(0px);
                    width: 100%;
                    height: 100%;
                  }
                }
              }
            }
          }

        }
      }
    }
    .dots-container{
      position: absolute;
      bottom: var(--composer-gap-md);
      left: 0px;
      width: 100%;
      height: auto;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--composer-gap-md);
      .dots{
        position: relative;
        display: flex;
        gap: var(--composer-gap-sm);
        align-items: center;
        &:hover{
          .line{
            width: 40px;
          }
        }
        .number{
          color:white;
          font-size: 1.5rem;
          &.no-image{
            color: var(--composer-font-color-primary);
          }      
        }
        .line{
          width: 15px;
          height: 2px;
          background-color: white;
          transition: all 0.5s ease;
          &.active{
            width: 45px;
          }
          &.no-image{
            background-color: var(--composer-font-color-primary);
          }
        }
      }
    }

  }
  .arrow-wrapper {
    position: absolute;
    display: flex;
    width: 100%;
    height: 100%;
    top: 0px;
    left: 0px;
    z-index: 10;
    pointer-events: none;

    .arrow-prev-wrapper,
    .arrow-next-wrapper,
    .arrow-next-wrapper-no-image,
    .arrow-prev-wrapper-no-image {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      pointer-events: auto;
      .arrow-prev,
      .arrow-next {
        .icon {
          font-size: 3.5rem;
          color: white;
          width: 30px;
          height: 30px;
        }
      }
    }
    .arrow-next-wrapper-no-image,
    .arrow-prev-wrapper-no-image {
      .arrow-prev,
      .arrow-next {
        .icon {
          color: var(--composer-font-color-primary);
          width: 30px;
          height: 30px;
        }
      }
    }
    .arrow-prev-wrapper,
    .arrow-prev-wrapper-no-image {
      left: var(--composer-gap-md);
    }
    .arrow-next-wrapper,
    .arrow-next-wrapper-no-image {
      right: var(--composer-gap-md);
    }
  }
  .background-wrapper{
    width: 100%;
    height: 100%;
    position: absolute;
    z-index: 1;
    top: 0px;
    left: 0px;
    .background-container{
      height: 100%;
      .background-image-container{
        height: 100%;
        overflow: hidden;
        .background-image{
          height: 100%;
          object-fit: cover;
        }
      }
    }
  }
}

@container (max-width: #{$composer-tablet-width}) {
  .container {
    flex-direction: row;
    min-height: 70vh;
    .max-content {
      flex-direction: row;
      .wrapper {
        .carousel {
          :global(.slick-list) {
            height: 70vh;
          }

          :global(.slick-track) {
            height: 70vh;
          }

          :global(.slick-slide) {
            height: 70vh;
          }

          .item {
            height: 70vh;
            .main-content {
              flex-direction: row;

              &.no-image-content {
                padding-bottom: var(--composer-gap-lg);
              }
              .left {
                padding: 0;
                .content {
                  .title {
                    font-size: 3rem;
                    padding: 0;
                  }

                  .description {
                    font-size: 1.75rem;
                    padding: 0;
                  }
                }
              }

              .right {
                .image-wrapper {
                  width: 100%;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                  .image {
                    position: relative;
                  }
                }
              }
            }
            .background-image {
              height: 100%;

              :first-child {
                height: 100%;
                width: 100%;
              }
            }
          }
        }
      }
    }
    .arrow-wrapper {
      display: flex;
      .arrow-prev-wrapper,
      .arrow-next-wrapper,
      .arrow-next-wrapper-no-image,
      .arrow-prev-wrapper-no-image {
        .arrow-prev,
        .arrow-next {
          .icon {
            font-size: 2.5rem;
          }
        }
      }
    }
  }
}

@container (max-width: #{$composer-phone-width}) {
  .container {
    min-height: 100vh;
    .max-content {
      .wrapper {
        .carousel {
          :global(.slick-list) {
            height: 100vh;
          }

          :global(.slick-track) {
            height: 100vh;
          }

          :global(.slick-slide) {
            height: 100vh;
          }

          .item {
            height: 100vh;
            .main-content {
              flex-direction: column;
              .left {
                padding: var(--composer-gap-md);
                .content {
                  .title {
                    font-size: 2rem;
                    width: 100%;
                  }

                  .description {
                    font-size: 1rem;
                    width: 100%;
                  }
                }
              }
              .right {
                .image-wrapper {
                  width: 100%;
                }
              }
            }
            .no-image-content {
              padding-bottom: 30px;
            }
          }
        }
      }
    }
    .arrow-wrapper {
      .arrow-prev-wrapper,
      .arrow-next-wrapper,
      .arrow-next-wrapper-no-image,
      .arrow-prev-wrapper-no-image {
        .arrow-prev,
        .arrow-next {
          .icon {
            font-size: 2rem;
          }
        }
      }

      .arrow-prev-wrapper,
      .arrow-prev-wrapper-no-image {
        left: var(--composer-gap-md);
      }
      .arrow-next-wrapper,
      .arrow-next-wrapper-no-image {
        right: var(--composer-gap-md);
      }
    }

    .dots-container {
      display: flex !important;
      pointer-events: auto;
      justify-content: center;
      gap: var(--composer-gap-md);
    }
  }
}

/* When animations are disabled (no .has-animation), force final visible states */
.container:not(.has-animation) {
  .flower,
  .title,
  .subtitle,
  .description,
  .buttons {
    opacity: 1 !important;
    transform: none !important;
  }
  .image {
    opacity: 1 !important;
    transform: none !important;
    width: 100% !important;
    height: 100% !important;
  }
  .line {
    width: 45px !important;
  }
}
