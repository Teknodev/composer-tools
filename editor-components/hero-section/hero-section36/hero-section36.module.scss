@use "../../../composer-base-components/base/utitilities/viewports.module.scss"
  as *;

.container {
  display: flex;
  flex-direction: column;
  gap: var(--composer-gap-xl);

  .heading {
    align-self: center !important;
    align-items: center !important;
    max-width: var(--composer-content-width);
    margin-bottom: 0;
    margin-right: var(--composer-gap-xl);
    margin-left: var(--composer-gap-xl);
    width: calc(100% - (2 * var(--composer-gap-xl)));

    .title {
      text-align: center;
      color: var(--composer-primary-color);
    }
  }

  .carousel-3d {
    position: relative;
    width: 100%;
    height: 400px;
    perspective: 1200px;
    perspective-origin: center center;
    overflow: visible;

    .carousel-item {
      position: absolute;
      top: 0;
      left: 50%;
      width: 260px; // tightened width to reduce gaps
      height: 400px;
      transform-style: preserve-3d;
      transform-origin: center center;
      backface-visibility: hidden;
      will-change: transform, opacity;
      pointer-events: none;

      .carousel-media {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: var(--composer-border-radius, 8px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        transition: transform 300ms ease, opacity 300ms ease;
      }
    }
  }
}

@container (max-width: #{$composer-tablet-width}) {
  .container {
    gap: var(--composer-gap-md);

    .carousel-3d {
      height: 300px;

      .carousel-item {
        width: 200px;
        height: 300px;
      }
    }
  }
}

@container (max-width: #{$composer-phone-width}) {
  .container {
    gap: var(--composer-gap-md);

    .carousel-3d {
      height: 225px;

      .carousel-item {
        width: 150px;
        height: 225px;
      }
    }
  }
}
