@import "../../../composer-base-components/base/utitilities/viewports.module.scss";

.container {
  background-color: var(--composer-html-background);
  padding-top: var(--composer-gap-sm);
  padding-bottom: var(--composer-gap-sm);

  .max-content {
    position: relative;

    &:has(.title),
    &:has(.subtitle) {
      .wrapper {
        margin-top: var(--composer-gap-md);
      }
    }

    .title {
      margin-top: 0;
      margin-bottom: 0;
      text-align: center;
      font-size: 1.5rem;
    }

    .subtitle {
      margin-top: 0;
      margin-bottom: 0;
      text-align: center;
      font-size: 1rem;
    }

    .wrapper {
      display: grid;
      grid-template-columns: 1fr auto 1fr;

      .left-content {
        display: flex;
        justify-content: flex-start;
        font-size: 1rem;
        position: relative;

        .localization {
          display: flex;
          justify-content: center;
          align-items: center;
          padding: var(--composer-gap-xs) var(--composer-gap-sm);
          padding-left: 0;

          .idle-icon {
            display: block;
          }

          .clicked-icon {
            display: none;
          }

          &:hover {
            cursor: pointer;

            .idle-icon {
              display: none;
            }

            .clicked-icon {
              display: block;
            }

            .options {
              min-width: 40px;
              display: flex;
              flex-direction: column;
            }
          }

          .options {
            display: none;
            position: absolute;
            top: 100%;
            left: calc(-1* var(--composer-gap-sm));
            background-color: var(--composer-html-background);

            div:not(:last-child)::after {
              content: "";
              display: block;
              width: 100%;
              height: 1px;
              background-color: var(--composer-primary-color);
              margin-top: var(--composer-gap-xs);
            }

            .option {
              padding: var(--composer-gap-xs) var(--composer-gap-sm);

              &:hover {
                cursor: pointer;
              }
            }
          }
        }
      }

      .links {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: var(--composer-gap-md);
        font-size: 1rem;

        .subitems div:not(:last-child) {
          border-bottom: 1px solid rgba(var(--composer-font-color-primary-rgb), 0.3);
        }

        >div,
        >a {
          .link {
            color: var(--composer-font-color-primary);
            padding: var(--composer-gap-xs) var(--composer-gap-sm);
            position: relative;
            width: 100%;
            border-bottom: 1px solid transparent;

            >div:first-child {
              border-bottom: none;
            }

            &:hover {
              >.subitems {
                display: flex;
                flex-direction: column;
              }
            }
          }

          .subitems {
            z-index: 1;
            background-color: var(--composer-html-background);
            display: none;
            position: absolute;
            width: 100%;
            min-width: 150px;
            max-width: 250px;
            border: 1px solid rgba(var(--composer-font-color-primary-rgb), 0.3);
          }

          >.link {
            >.subitems {
              // subitems
              left: 0;
              top: 100%;

              >div,
              >a {
                >.link {
                  >.subitems {
                    // subsubitems
                    left: 100%;
                    top: -0.5px;

                    >div,
                    >a {
                      >.link {
                        content: "";
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }

      .right-content {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        font-size: 1rem;
        gap: var(--composer-gap-md);

        >div,
        >a {
          .icon {
            height: 16px;
            width: 16px;
          }
        }
      }
    }

    .hamburger-container,
    .wrapper-mobile {
      display: none;
    }
  }
}

@container (max-width: #{$composer-tablet-width}) {}

@container (max-width: #{$composer-phone-width}) {
  .container {
    .max-content {
      .wrapper {
        display: none;
      }

      .hamburger-container {
        display: block;
        position: absolute;
        right: 0;
        top: var(--composer-gap-sm);

        .icon {
          width: 24px;
          height: 24px;
        }
      }

      .wrapper-mobile {
        display: none;

        &.show {
          display: block;
        }

        .left-content {
          .localization {
            position: relative;
            display: flex;
            align-items: center;

            &:focus {
              .options {
                display: block;
              }
            }

            .idle-icon {
              display: block;
            }

            .clicked-icon {
              display: none;
            }

            .options {
              display: none;
              position: absolute;
              top: 100%;
              left: 0;
              background-color: var(--composer-html-background);
              z-index: 1;
            }
          }
        }

        .links {
          display: flex;
          justify-content: center;
          align-items: center;
          flex-direction: column;
          font-size: 1rem;
          gap: var(--composer-gap-sm);

          >.link:has(.subitems) {
            border-bottom: 1px solid red;
          }

          .link {
            .content {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: var(--composer-gap-xs);
              text-align: center;

              .dropdown-icon {
                height: 16px;
                width: 16px;
              }
            }
          }
        }

        .right-content {
          display: flex;
          align-items: center;
          justify-content: flex-end;
          gap: var(--composer-gap-sm);

          .icon {
            height: 16px;
            width: 16px;
          }
        }
      }
    }
  }
}