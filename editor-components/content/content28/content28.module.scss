@use '../../../composer-base-components/base/utitilities/viewports.module.scss' as *;

.container {
  .max-content {
    padding: 5rem 3.125rem;
    min-height: 40rem;
    --c28-scale: 1.3; // Scale factor for responsive font sizing

    // Main grid layout: image (1 part) + content (2 parts)
    .grid {
      display: grid;
      grid-template-columns: 1fr 2fr; // 1:2 ratio
      gap: var(--composer-gap-xl);
      align-items: stretch; // Equal height columns
      > * { min-width: 0; } // Prevent grid overflow
    }

    // Grid with vertical divider line
    .has-line { grid-template-columns: 1fr auto 2fr; }
    
    // Vertical divider between image and content
    .center-line { 
      width: 0.125rem; 
      background-color: var(--composer-border-color, rgba(0,0,0,0.08)); 
    }

    // Image column container
    .col-image {
      background: var(--composer-background-color);
      padding: 0;
      position: relative;
      height: 100%;
      min-height: 40rem;
      overflow: hidden;
      border: 0.0625rem solid rgba(0,0,0,0.06);
      border-radius: 0.25rem;
    }

    // Image element with smooth zoom effect
    .image {
      width: 100%;
      height: 100%;
      display: block;
      object-fit: cover;
      transition: transform .35s ease, filter .35s ease;
    }

    // Hover effect: subtle zoom and brightness
    .col-image:hover .image {
      transform: scale(1.035);
      filter: brightness(1.02);
      cursor: pointer;
    }

    // Content column with header and features
    .col-content {
      display: flex;
      flex-direction: column;
      gap: var(--composer-gap-xl);
      min-width: 0; // Prevent overflow

      // Features container
      .features-block {
        display: flex;
        flex-direction: column;
        gap: var(--composer-gap-lg);

        // 2-column grid for features
        .features {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: var(--composer-gap-xl);
          align-items: start;

          .feature {
            // Feature title with scale animation
            .feature-title {
              font-size: calc(1.5rem * var(--c28-scale)); // Responsive sizing
              font-weight: 500;
              text-align: left;
              color: var(--composer-primary-color);
              padding: 0;
              margin: 0 0 var(--composer-gap-sm) 0;
              transform: none;
              cursor: pointer;
              transition: transform 0.3s ease;
              
              // Scale up on hover
              &:hover {
                transform: scale(1.1);
              }
              
              // Remove default pseudo-element
              &::before {
                display: none;
                content: none;
              }
            }

            // Feature description text
            .feature-text {
              margin: 0;
              padding: 0;
              color: var(--composer-font-color-primary);
              text-align: left;
            }
          }
        }
      }
    }
  }
}

// Tablet responsive styles
@container (max-width: #{$composer-tablet-width}) {
  .container {
    .max-content {
      padding: 5rem 2.5rem;
      min-height: 32.5rem;
      --c28-scale: 1.1; // Reduced scale for tablet

      .grid {
        grid-template-columns: 1fr 2fr; // Keep same ratio
        gap: var(--composer-gap-lg);
      }

      .has-line { grid-template-columns: 1fr auto 2fr; }

      .col-image {
        min-height: 26.25rem; // Smaller image height
      }

      // Single column for features
      .features {
        grid-template-columns: 1fr;
      }
    }
  }
}

// Mobile responsive styles
@container (max-width: #{$composer-phone-width}) {
  .container {
    .max-content {
      padding: 4rem 1.25rem;
      min-height: unset;
      --c28-scale: 1; // Normal scale for mobile

      // Stack layout: image on top, content below
      .grid {
        grid-template-columns: 1fr;
        gap: var(--composer-gap-lg);
      }

      .has-line { grid-template-columns: 1fr; }
      .center-line { display: none; } // Hide divider on mobile

      .col-image {
        order: -1; // Image first
        min-height: 16.25rem; // Smaller image
      }

      // Single column for features with reduced gap
      .features {
        gap: var(--composer-gap-md);
        grid-template-columns: 1fr;
      }
    }
  }
}
