name: Notify Parent Repo
on:
  push:
    paths:
      - 'editor-components/**'

jobs:
  notify:
    runs-on: ubuntu-latest
    env:
      PARENT_ORG: ${{ secrets.PARENT_ORG }}
      PARENT_REPO: ${{ secrets.PARENT_REPO }}
    steps:
      - name: Trigger parent repository workflow
        run: |
          curl -X POST \
            -H "Authorization: token ${{ secrets.PARENT_REPO_TOKEN }}" \
            -H "Accept: application/vnd.github.v3+json" \
            https://api.github.com/repos/${PARENT_ORG}/${PARENT_REPO}/dispatches \
            -d '{"event_type":"submodule_updated"}'